<script>
	$(function(){
		$("#btnSaveField").unbind("click");
        $("#btnSaveField").bind("click", function(){
			if (!$("#formSettingField").valid()) {
                return false;
			}

			var api = "http://localhost:8091/api/v1/system/config";
			var jsonData = $("#formSettingField").serializeJSON();
			var isUpdateReq = jsonData.id != "" && jsonData.id > 0;
            generic_ajax_op(
                isUpdateReq ? (api + "/" + jsonData.id) : api,
                isUpdateReq ? "PATCH" : "POST",
				jsonData,
				null,
				(function(result) {
				    $.pdialog.closeCurrent();
				    alertMsg.correct("配置項'" + result.data.configName + "'添加成功");
				    navTab.reload();
                }
            ));
		});
	});
</script>

<div xmlns:th="http://www.thymeleaf.org" class="pageContent">
	<form id="formSettingField" method="post" class="pageForm required-validate">
		<div class="pageFormContent" layoutH="56">
			<table cellspacing="10" cellpadding="10" class="dform">
				<tr>
					<td>字段ID：</td>
					<td><input name="configName" type="text" size="30" th:value="${config != null ? config.configName : ''}" class="required" /></td>
				</tr>
				<tr>
					<td>字段名称：</td>
					<td><input name="configDescription" type="text" size="30" th:value="${config != null ? config.configDescription : ''}" class="required" /></td>
				</tr>
			</table>
		</div>
		<div class="formBar">
			<ul>
				<li><div class="buttonActive"><div class="buttonContent"><button type="button" id="btnSaveField">保存</button></div></div></li>
				<li><div class="button"><div class="buttonContent"><button class="close" type="button">取消</button></div></div></li>
			</ul>
		</div>
		<input type="hidden" name="id" th:value="${config != null ? config.id : ''}" />
	</form>
<div>
		